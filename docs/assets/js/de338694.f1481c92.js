"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[93],{42:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>r,default:()=>c,frontMatter:()=>l,metadata:()=>o,toc:()=>h});var t=s(4848),i=s(8453);const l={sidebar_position:1},r="Format of Leo Files",o={id:"appendices/format-of-leo-files",title:"Format of Leo Files",description:"JSON .leojs Files",source:"@site/docs/appendices/format-of-leo-files.md",sourceDirName:"appendices",slug:"/appendices/format-of-leo-files",permalink:"/leojs/docs/appendices/format-of-leo-files",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"appendicesSidebar",next:{title:"Format of External Files",permalink:"/leojs/docs/appendices/format-of-external-files"}},d={},h=[{value:"JSON .leojs Files",id:"json-leojs-files",level:2},{value:"XML .leo Files",id:"xml-leo-files",level:2}];function a(e){const n={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"format-of-leo-files",children:"Format of Leo Files"})}),"\n",(0,t.jsx)(n.h2,{id:"json-leojs-files",children:"JSON .leojs Files"}),"\n",(0,t.jsx)(n.p,{children:"Here is a sample .leojs file with its elements explained below:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:'{\r\n  "leoHeader": {\r\n    "fileFormat": 2\r\n  },\r\n  "vnodes": [\r\n    {\r\n      "gnx": "ekr.20240903211439.1",\r\n      "vh": "My Headline"\r\n    },\r\n    {\r\n      "gnx": "ekr.20240903211453.1",\r\n      "vh": "Another Headline",\r\n      "children": [\r\n        {\r\n          "gnx": "ekr.20240903211458.1",\r\n          "vh": "Child Headline "\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      "gnx": "ekr.20240903211453.1"\r\n    }\r\n  ],\r\n  "tnodes": {\r\n    "ekr.20240903211439.1": "blablabla\\nblablabla",\r\n    "ekr.20240903211458.1": "Some text in this one too.\\n"\r\n  },\r\n  "uas": {\r\n    "ekr.20240903211458.1": {\r\n      "__node_tags": [\r\n        "myTag"\r\n      ]\r\n    }\r\n  }\r\n}\n'})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"leoHeader"}),"\n",(0,t.jsx)(n.p,{children:"JSON leo files start with a leoHeader dictionary."}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"vnodes"}),"\n",(0,t.jsxs)(n.p,{children:["The nested vnodes, indicating the outline structure. Clones only need the ",(0,t.jsx)(n.em,{children:"gnx"})," attribute."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"tnodes"}),"\n",(0,t.jsxs)(n.p,{children:["List of body texts associated with vnodes through their ",(0,t.jsx)(n.em,{children:"gnx"}),"."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"uas"}),"\n",(0,t.jsxs)(n.p,{children:["User attributes dictionaries, also associated with vnodes through their ",(0,t.jsx)(n.em,{children:"gnx"}),"."]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"xml-leo-files",children:"XML .leo Files"}),"\n",(0,t.jsx)(n.p,{children:"Here are the XML elements that may appear in .leo files:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"<?xml>"}),"\n",(0,t.jsx)(n.p,{children:"Leo files start with the following line:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-xml",children:'<?xml version="1.0" encoding="UTF-8"?>\n'})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"<?xml-stylesheet>"}),"\n",(0,t.jsx)(n.p,{children:"An xml-stylesheet line is option.  For example:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-xml",children:"<?xml-stylesheet ekr_stylesheet?>\n"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"<leo_file>"}),"\n",(0,t.jsx)(n.p,{children:"The <leo_file> element opens an element that contains the entire file.\r\n</leo_file> ends the file."}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"<leo_header>"}),"\n",(0,t.jsx)(n.p,{children:"The <leo_header> element specifies version information and other information\r\nthat affects how Leo parses the file.  For example:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-xml",children:'<leo_header file_format="2" tnodes="0" max_tnode_index="5725" clone_windows="0"/>\n'})}),"\n",(0,t.jsx)(n.p,{children:"The file_format attribute gives the 'major' format number.\r\nIt is '2' for all 4.x versions of Leo.\r\nThe tnodes and clone_windows attributes are no longer used.\r\nThe max_tnode_index\tattribute is the largest tnode index."}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"<globals>"}),"\n",(0,t.jsx)(n.p,{children:"The globals element specifies information relating to the entire file.\r\nFor example:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-xml",children:'<globals body_outline_ratio="0.50">\r\n    <global_window_position top="27" left="27" height="472" width="571"/>\r\n    <global_log_window_position top="183" left="446" height="397" width="534"/>\r\n</globals>\n'})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"The body_outline_ratio attribute specifies the ratio of the height\r\nof the body pane to the total height of the Leo window.\r\nIt initializes the position of the splitter separating the outline pane from the body pane."}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"The global_window_position and global_log_window_position elements\r\nspecify the position of the Leo window and Log window in global coordinates:"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"<preferences>"}),"\n",(0,t.jsx)(n.p,{children:"This element is vestigial.\r\nLeo ignores the <preferences> element when reading.\r\nLeo writes an empty <preferences> element."}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"<find_panel_settings>"}),"\n",(0,t.jsx)(n.p,{children:"This element is vestigial.\r\nLeo ignores the <find_panel_settings> element when reading.\r\nLeo writes an empty <find_panel_settings> element."}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"<clone_windows>"}),"\n",(0,t.jsx)(n.p,{children:"This element is vestigial.\r\nLeo ignores the <clone_windows> element when reading.\r\nLeo no longer writes <clone_windows> elements."}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"<vnodes>"}),"\n",(0,t.jsx)(n.p,{children:"A single <vnodes> element contains nested <v> elements.\r\n<v> elements correspond to vnodes.\r\nThe nesting of <v> elements indicates outline structure in the obvious way."}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"<v>"}),"\n",(0,t.jsx)(n.p,{children:"The <v> element represents a single vnode and has the following form:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-xml",children:"<v...><vh>sss</vh> (zero or more nested v elements) </v>\n"})}),"\n",(0,t.jsx)(n.p,{children:"The <vh> element specifies the headline text.\r\nsss is the headline text encoded with the usual XML escapes.\r\nAs shown above, a <v> element may contain nested <v> elements.\r\nThis nesting indicates outline structure in the obvious way.\r\nZero or more of the following attributes may appear in <v> elements:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'t=name.timestamp.n\r\na="xxx"\n'})}),"\n",(0,t.jsx)(n.p,{children:'The t="Tnnn" attribute specifies the <t> element associated with a <v> element.\r\nThe a="xxx" attribute specifies vnode attributes.\r\nThe xxx denotes one or more upper-case letters whose meanings are as follows:'}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{style:{textAlign:"center"},children:"xxx"}),(0,t.jsx)(n.th,{style:{textAlign:"left"},children:"Attribute"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{style:{textAlign:"center"},children:"C"}),(0,t.jsx)(n.td,{style:{textAlign:"left"},children:"The vnode is a clone."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{style:{textAlign:"center"},children:"E"}),(0,t.jsx)(n.td,{style:{textAlign:"left"},children:"The vnode is expanded so its children are visible."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{style:{textAlign:"center"},children:"M"}),(0,t.jsx)(n.td,{style:{textAlign:"left"},children:"The vnode is marked."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{style:{textAlign:"center"},children:"T"}),(0,t.jsx)(n.td,{style:{textAlign:"left"},children:"The vnode is the top visible node."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{style:{textAlign:"center"},children:"V"}),(0,t.jsx)(n.td,{style:{textAlign:"left"},children:"The vnode is the current vnode."})]})]})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.em,{children:'For example, a="EM"  specifies that the vnode is expanded and is marked.'})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"<tnodes>"}),"\n",(0,t.jsx)(n.p,{children:"A single <tnodes> element contains a non-nested list of <t> elements."}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"<t>"}),"\n",(0,t.jsx)(n.p,{children:"The <t> element represents the body text of the corresponding <v> element.\r\nIt has this form:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-xml",children:'<t tx="<gnx>">sss</t>\n'})}),"\n",(0,t.jsx)(n.p,{children:"The tx attribute is required.\r\nThe t attribute of <v> elements refer to this tx attribute.\r\nsss is the body text encoded with the usual XML escapes."}),"\n",(0,t.jsxs)(n.p,{children:["Plugins and scripts may add attributes to <v> and <t>\r\nelements. See ",(0,t.jsx)(n.a,{href:"/leojs/docs/advanced-topics/writing-plugins",children:"Writing plugins"})," for details."]}),"\n"]}),"\n"]})]})}function c(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(a,{...e})}):a(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>r,x:()=>o});var t=s(6540);const i={},l=t.createContext(i);function r(e){const n=t.useContext(l);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),t.createElement(l.Provider,{value:n},e.children)}}}]);