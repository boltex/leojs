<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-advanced-topics/faq" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.5.2">
<title data-rh="true">FAQ | LeoJS</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://boltex.github.io/leojs/img/leojs-social-card.png"><meta data-rh="true" name="twitter:image" content="https://boltex.github.io/leojs/img/leojs-social-card.png"><meta data-rh="true" property="og:url" content="https://boltex.github.io/leojs/docs/advanced-topics/faq"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="FAQ | LeoJS"><meta data-rh="true" name="description" content="Learning to use Leo"><meta data-rh="true" property="og:description" content="Learning to use Leo"><link data-rh="true" rel="icon" href="/leojs/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://boltex.github.io/leojs/docs/advanced-topics/faq"><link data-rh="true" rel="alternate" href="https://boltex.github.io/leojs/docs/advanced-topics/faq" hreflang="en"><link data-rh="true" rel="alternate" href="https://boltex.github.io/leojs/docs/advanced-topics/faq" hreflang="x-default"><link rel="stylesheet" href="/leojs/assets/css/styles.14505858.css">
<script src="/leojs/assets/js/runtime~main.07d4e18b.js" defer="defer"></script>
<script src="/leojs/assets/js/main.ec2e254d.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div> <div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_CIJY"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd sidebarWithHideableNavbar_wUlq"><a tabindex="-1" class="sidebarLogo_isFc" href="/leojs/"><img src="/leojs/img/leoapp256px.png" alt="LeoJS Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/leojs/img/leoapp256px.png" alt="LeoJS Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"><b>LeoJS</b></a><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/leojs/docs/advanced-topics/scripting-guide">Leo Scripting Guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/leojs/docs/advanced-topics/writing-plugins">Writing Plugins</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/leojs/docs/advanced-topics/faq">FAQ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/leojs/docs/advanced-topics/leonine-refactor">The Leonine way to refactor code</a></li></ul></nav></div></div></aside><div><nav aria-label="Main" class="navbar navbar--fixed-top navbarHideable_m1mJ"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button> <a class="navbar__item navbar__link" href="/leojs/docs/getting-started/installing">Getting Started</a><a class="navbar__item navbar__link" href="/leojs/docs/users-guide/leomarkup">User&#x27;s Guide</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/leojs/docs/advanced-topics/scripting-guide">Advanced Topics</a><a class="navbar__item navbar__link" href="/leojs/docs/appendices/format-of-leo-files">Appendices</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/boltex/leojs" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_x44X"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/leojs/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">FAQ</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>FAQ</h1></header>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="learning-to-use-leo">Learning to use Leo<a href="#learning-to-use-leo" class="hash-link" aria-label="Direct link to Learning to use Leo" title="Direct link to Learning to use Leo">​</a></h2>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="whats-the-best-way-to-learn-to-use-leo">What&#x27;s the best way to learn to use Leo?<a href="#whats-the-best-way-to-learn-to-use-leo" class="hash-link" aria-label="Direct link to What&#x27;s the best way to learn to use Leo?" title="Direct link to What&#x27;s the best way to learn to use Leo?">​</a></h3>
<p>First, read <a href="/leojs/docs/getting-started/tutorial-basics">Leo&#x27;s tutorials</a>. This will be enough to get you started if you just want to use Leo as an outliner_. If you intend to use Leo for programming, read the <a href="/leojs/docs/getting-started/tutorial-scripting">scripting tutorial</a>, then look at Leo&#x27;s source code in the file Leojs.leo. Spend 5 or 10 minutes browsing through the outline. Don&#x27;t worry about details; just look for the following common usage patterns:</p>
<ul>
<li>
<p>Study @file leoNodes.ts. It shows how to define more than one class in single file.</p>
</li>
<li>
<p>Most other files show how to use a single @others directive to define one class.</p>
</li>
<li>
<p>Most methods are defined using @others, <em>not</em> section definition nodes.</p>
</li>
</ul>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="when-is-using-a-section-better-than-using-a-method">When is using a section better than using a method?<a href="#when-is-using-a-section-better-than-using-a-method" class="hash-link" aria-label="Direct link to When is using a section better than using a method?" title="Direct link to When is using a section better than using a method?">​</a></h3>
<p>Use methods for any code that is used (called or referenced) more than once.</p>
<p>Sections_ are convenient in the following circumstances:</p>
<ul>
<li>When you want to refer to snippets of code the can not be turned into methods. For example, many plugins start with the code like this:</li>
</ul>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;&lt; docstring &gt;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;&lt; imports &gt;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;&lt; version history &gt;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;&lt; globals &gt;&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>None of these sections could be replaced by methods.</p>
<ul>
<li>When you want to refer to a snippet of code that shares local variables with the enclosing code. This is surprisingly easy and safe to do, <em>provided</em> the section is used only in one place. <a href="/leojs/docs/appendices/glossary#section-name">Section names</a> in such contexts can be clearer than method names.  For example:</li>
</ul>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;&lt; init ivars for writing &gt;&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>In short, I create sections when convenient, and convert them to functions or methods if they need to be used in several places.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="clones">Clones<a href="#clones" class="hash-link" aria-label="Direct link to Clones" title="Direct link to Clones">​</a></h2>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="how-can-i-eliminate-clone-wars">How can I eliminate clone wars?<a href="#how-can-i-eliminate-clone-wars" class="hash-link" aria-label="Direct link to How can I eliminate clone wars?" title="Direct link to How can I eliminate clone wars?">​</a></h3>
<p>Clone wars can be most annoying. The solution is simple:</p>
<ul><p><strong>Keep clones only in the outline and in one other external file</strong></p></ul>
<p>In particular, catchall files like leo/doc/leoProjects.txt or leo/doc/leoToDo.txt should never contain clones.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="how-can-i-use-clones-to-reorganize-an-outline">How can I use clones to reorganize an outline?<a href="#how-can-i-use-clones-to-reorganize-an-outline" class="hash-link" aria-label="Direct link to How can I use clones to reorganize an outline?" title="Direct link to How can I use clones to reorganize an outline?">​</a></h3>
<p>Clones make reorganizing an outline significantly easier and faster.  Simply make top-level clones of the nodes you keep encountering during the reorg. This makes moving a node a snap: just move it from one clone to another.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="how-does-ekr-use-clones">How does EKR use clones?<a href="#how-does-ekr-use-clones" class="hash-link" aria-label="Direct link to How does EKR use clones?" title="Direct link to How does EKR use clones?">​</a></h3>
<p><em>From this forum discussion <a href="https://groups.google.com/d/msg/leo-editor/4s44H9cUJGY/ewRBDBSw-A8J" target="_blank" rel="noopener noreferrer">forum discussion</a></em></p>
<p>For the last several weeks I&#x27;ve used clones in a new, more effective way, inspired by git&#x27;s stash/unstash commands. Here are the main ideas.</p>
<ol>
<li>[Most important] I avoid putting clones in two different <em>external</em> files.</li>
</ol>
<p>For any task, I create a task node that resides in @file leoToDo.txt. I clone that node and put it in the outline, <em>never</em> in any other @file node. This instantly eliminates clone wars.</p>
<ol start="2">
<li>I use top-level &quot;stashed&quot; nodes/trees in my local copy of leoPy.leo.</li>
</ol>
<p>These clones are <em>not</em> written to any external file, so they would be lost if I lost leoPy.leo. But the risks are negligible because all stashed nodes are clones of nodes that <em>do</em> exist in external files.</p>
<ol start="3">
<li>I have two main stashed trees: recent files and recent code.</li>
</ol>
<p>The &quot;recent files&quot; tree contains clones of all the @file nodes I have worked on recently. This speeds up access to them. That happens surprisingly often--often enough to be well worth maintaining the tree. Furthermore, because Leo&#x27;s new pylint command now works on trees, I can check all recently-changed files simply by running pylint on the &quot;recent files&quot; tree.</p>
<p>The &quot;recent code&quot; tree is even more valuable, for three reasons. The first is obvious--it speeds access to recently-changed nodes.</p>
<p>Second, the &quot;recent code&quot; tree allows me to work on multiple tasks without getting overwhelmed by details and loose nodes lying around. I add organizer nodes as needed to make accessing the nodes faster, and also to jog my memory about what I was doing when I changed those nodes ;-)</p>
<p>Third, the &quot;recent code&quot; tree allows me <em>not</em> to put clones in the @file leoProjects.txt tree. This leads me to...</p>
<ol start="4">
<li>I use clones in a stylized way when fixing and committing bugs.</li>
</ol>
<p>I always use clones when working on a project. A &quot;task&quot; node contains clones of all nodes related to the task. The task node typically remains in leoToDo.txt until the task is completely finished. While working on the bug, I create a clone of the task node, and move that clone to the bottom top-level node of the outline. Among other things, this makes it easy to limit searches without actually choosing &quot;suboutline only&quot; in the Find panel. This workflow is decades old.</p>
<p>The following is the heart of the new workflow. When a task is complete, I do the following:</p>
<ul>
<li>
<p>First, I create a <strong>stashed-task</strong> node, containing all the clones that were previously in the task node.
The <em>stashed-task</em> becomes pre-writing for the commit log. The <em>task</em> node instantly becomes pre-writing for the release notes, so if it needs to discuss any code in the clones that have just been moved to the stashed-task node, I write those words immediately, while all details are fresh in my mind.</p>
</li>
<li>
<p>Now I move the cloned task node that is in leoToDo.txt to the appropriate place in leoProjects.txt.</p>
</li>
<li>
<p>Next I do the commit.
The <em>other</em> clone of the task node, and the stashed task node are still within easy reach, and I typically use both nodes to create the commit log. The commit will typically consist of the changed leoToDo.txt and leoProjects.txt and whatever .py files the task itself changed. Happily, leoToDo.txt and leoProjects.txt are now up-to-date because of steps A and B.</p>
</li>
<li>
<p>Finally, I clean up.
I delete the top-level clone of the task node, and move the stashed-task node to the &quot;recent code&quot; tree.</p>
</li>
</ul>
<p>Later, when it appears that activity has died down on various projects, I&#x27;ll delete nodes from the &quot;recent files&quot; an &quot;recent code&quot; trees. This is a minor judgment call: I want to leave nodes in the trees while they are useful, but not significantly longer than that. I do <em>not</em> regard these trees as permanently useful. leoProjects.txt should contain <em>all</em> permanent notes about a project.</p>
<p><strong>Conclusions</strong></p>
<p>This work flow may seem complicated. Believe me, it is not. It&#x27;s easier to use than to describe.</p>
<p>This workflow has big advantages:</p>
<ol>
<li>Clone wars are gone for good.</li>
<li>All recent data is easily available.</li>
<li>Task nodes and stashed-task nodes provide natural places for proto-documentation.</li>
<li>Banning clones from leoProjects.txt forces me to complete the first draft of the documentation before committing the fix.</li>
</ol>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="how-does-leo-handle-clone-conflicts">How does Leo handle clone conflicts?<a href="#how-does-leo-handle-clone-conflicts" class="hash-link" aria-label="Direct link to How does Leo handle clone conflicts?" title="Direct link to How does Leo handle clone conflicts?">​</a></h3>
<p>Some people seem to think that it is difficult to understand how Leo handles &quot;clone wars&quot;: differing values for a cloned nodes that appear in several external files. That&#x27;s not true. The rule is:</p>
<ul><p><strong>The last clone that Leo reads wins.</strong></p></ul>
<p>That is, for any cloned node C, Leo takes the value of C.h and C.b to be the values specified by the last copy that Leo reads.</p>
<p>There is only one complication:</p>
<ul><p><strong>Leo reads the entire outline before reading any external files.</strong></p></ul>
<p>Thus, if C appears in x.leo, y.py and z.py, Leo will choose the value for C in x.py or y.py, depending on which @&lt;file&gt; node appears later in the outline.</p>
<blockquote>
<p>📌 <strong>NOTE</strong><br>
<!-- -->Whenever Leo detects multiple values for C when opening an outline, Leo creates a &quot;Recovered nodes&quot; tree. This tree contains all the various values for C, nicely formatted so that it is easy to determine where the differences are.</p>
</blockquote>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="when-is-deleting-a-node-dangerous">When is deleting a node dangerous?<a href="#when-is-deleting-a-node-dangerous" class="hash-link" aria-label="Direct link to When is deleting a node dangerous?" title="Direct link to When is deleting a node dangerous?">​</a></h3>
<p>A <strong>dangerous</strong> delete is a deletion of a node so that all the data in the node is deleted <em>everywhere</em> in an outline. The data is gone, to be retrieved only via undo or via backups. It may not be obvious which deletes are dangerous in an outline containing clones. Happily, there is a very simple rule of thumb:</p>
<ul>
<li>Deleting a non-cloned node is <em>always</em> dangerous.</li>
<li>Deleting a cloned node is <em>never</em> dangerous.</li>
</ul>
<p>We could also consider a delete to be dangerous <strong>if it results in a node being omitted from an external file.</strong> This can happen as follows. Suppose we have the following outline (As usual, A&#x27; indicates that A is marked with a clone mark):</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">- @file spam.py</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    - A&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        - B</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- Projects</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    - A&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        - B</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Now suppose we clone B, and move the clone so the tree looks like this:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">- @file spam.py</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    - A&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        - B&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- Projects</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    - A&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        - B&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    - B&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>If (maybe much later), we eliminate B&#x27; as a child of A will get:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">- @file spam.py</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    - A&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- Projects</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    - A&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    - B</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>B has not been destroyed, but B is gone from @file spam.py! So in this sense deleting a clone node can also be called dangerous.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="when-may-i-delete-clones-safely">When may I delete clones safely?<a href="#when-may-i-delete-clones-safely" class="hash-link" aria-label="Direct link to When may I delete clones safely?" title="Direct link to When may I delete clones safely?">​</a></h3>
<p>Q: When can I delete a clone safely?</p>
<p>A: Any time! The only time you can &quot;lose&quot; data is when you delete a non-cloned node, save your work and exit Leo.</p>
<p>Q: What gets &quot;lost&quot; when I delete a non-cloned node?</p>
<p>A: The node, and all it&#x27;s non-cloned children. In addition, if the node contains all clones of a cloned node, all copies of the cloned node will also be &quot;lost&quot;.</p>
<p>Q: Anything else I should be careful about concerning clones?</p>
<p>Not really.  If you move any node out &quot;underneath&quot; an @file (@clean, etc) node, the contents of that node disappears from the external file.</p>
<p>I hope this encourages more people to use clones.  Leo&#x27;s clone-find commands are something that every Leo programmers should be using every day.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="why-doesnt-leo-support-cross-outline-clones">Why doesn&#x27;t Leo support cross-outline clones?<a href="#why-doesnt-leo-support-cross-outline-clones" class="hash-link" aria-label="Direct link to Why doesn&#x27;t Leo support cross-outline clones?" title="Direct link to Why doesn&#x27;t Leo support cross-outline clones?">​</a></h3>
<p>Any outline (.leo file) may contain clones that appear in multiple external files defined <em>within</em> that outline. There is no problem with such <strong>intra-outline clones</strong>.</p>
<p>In contrast, <strong>cross-outline clones</strong> are clones that appear in more than one outline.  Leo&#x27;s paste-retaining-clones command makes it possible for two outlines to contain nodes with the same gnx. Conceivably, both outlines could use those clones in the <em>same</em> external file!</p>
<p>Leo will never encourage cross-outline clones, because such clones are inherently dangerous. Indeed, neither outline would have full responsibility for its own data.</p>
<p>Indeed, the shared clones would be subject to the well-known multiple-update problem. Suppose the two outlines were open simultaneously, and each outline changed the shared clones in different ways. Whichever outline changed the data last would &quot;win.&quot; The changes in the other outline would be lost forever!</p>
<p>In short, Leo will never support features that encourage cross-outline clones.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="why-is-alt-n-goto-next-clone-important">Why is Alt-N (goto-next-clone) important?<a href="#why-is-alt-n-goto-next-clone-important" class="hash-link" aria-label="Direct link to Why is Alt-N (goto-next-clone) important?" title="Direct link to Why is Alt-N (goto-next-clone) important?">​</a></h3>
<p>clone-find-all-flattened often includes clones of nodes whose location is unclear.  No problem! Just select the mysterious node and do Alt-N (goto-next-clone). Leo will select the next clone of that node, wrapping the search as necessary.  One or two Alt-N takes me to the &quot;real&quot; node, the node having an ancestor @&lt;file&gt; node.</p>
<p>Ideally, the meaning of all nodes would be clear from their headlines.  I typically use the following conventions. For section definitions, the headline should contain file or class name.  Examples:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;&lt; imports &gt;&gt; (leoCommands.py)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;&lt; docstring &gt;&gt; (LeoApp)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="why-should-i-use-clones">Why should I use clones?<a href="#why-should-i-use-clones" class="hash-link" aria-label="Direct link to Why should I use clones?" title="Direct link to Why should I use clones?">​</a></h3>
<p>You will lose much of Leo&#x27;s power if you don&#x27;t use clones. See <a href="/leojs/docs/getting-started/tutorial-pim#clones">Clones</a> and <a href="/leojs/docs/getting-started/tutorial-pim#clones-create-views">Views</a> for full details.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="customizing-leo">Customizing Leo<a href="#customizing-leo" class="hash-link" aria-label="Direct link to Customizing Leo" title="Direct link to Customizing Leo">​</a></h2>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="how-can-i-customize-settings-for-a-particular-external-file">How can I customize settings for a particular external file?<a href="#how-can-i-customize-settings-for-a-particular-external-file" class="hash-link" aria-label="Direct link to How can I customize settings for a particular external file?" title="Direct link to How can I customize settings for a particular external file?">​</a></h3>
<p>How it is possible to specify settings in @file? As I understand every setting should be a single outline.</p>
<p><em>Contributed by <a href="https://github.com/vitalije" target="_blank" rel="noopener noreferrer">Vitalije</a></em></p>
<p>You can use clones. For example:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">--@settings</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">----my-shared-settings</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">------...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">----some-specific-settings-for-this-outline</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">------....</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--@file my-shared-settings-somewhere.txt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">----my-shared-settings</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>where <code>my-shared-settings</code> node is cloned from the @file subtree.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="how-can-i-sync-settings-across-leo-files">How can I sync settings across .leo files?<a href="#how-can-i-sync-settings-across-leo-files" class="hash-link" aria-label="Direct link to How can I sync settings across .leo files?" title="Direct link to How can I sync settings across .leo files?">​</a></h3>
<p>Organize your myLeoSettings.leo file like this:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">@settings</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     -my settings &lt;clone&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          -@bool .... = True</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          -@data fldsdf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@file mysettings.txt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     my settings &lt;clone&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Syncing mySettings.txt will synchronize your settings across your .leo files.</p>
<blockquote>
<p>📌 <strong>NOTE</strong><br>
<!-- -->Changed settings will not be available in other open outlines until you reload settings. You can do this with the <code>reload-all-settings</code> command.</p>
</blockquote>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="how-do-i-submit-a-plugin">How do I submit a plugin?<a href="#how-do-i-submit-a-plugin" class="hash-link" aria-label="Direct link to How do I submit a plugin?" title="Direct link to How do I submit a plugin?">​</a></h3>
<p>Create a VSCode extension that uses the LeoJS API. See this example repository at <a href="https://github.com/boltex/extension-sample-leojs" target="_blank" rel="noopener noreferrer">github.com/boltex/extension-sample-leojs</a></p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="excel">Excel<a href="#excel" class="hash-link" aria-label="Direct link to Excel" title="Direct link to Excel">​</a></h2>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="how-can-i-show-leo-files-with-excel">How can I show Leo files with Excel?<a href="#how-can-i-show-leo-files-with-excel" class="hash-link" aria-label="Direct link to How can I show Leo files with Excel?" title="Direct link to How can I show Leo files with Excel?">​</a></h3>
<p>Using Leo&#x27;s File-Export-Flatten Outline commands creates a MORE style outline which places all Leo body sections on the left margin. The headlines_ are indented with tabs which Excel will read as a tab delimited format. Once inside Excel there are benefits.</p>
<ol>
<li>
<p>The most obvious benefit inside Excel is that the body sections (Excel first column) can be selected easily and highlighted with a different font color. This makes the MORE format very readable. Save a copy of your sheet as HTML and now you have a web page with the body sections highlighted.</p>
</li>
<li>
<p>It is possible to hide columns in Excel. Hiding the first column leaves just the headlines showing.</p>
</li>
<li>
<p>Formulas based on searching for a string can do calculations in Excel. For example if a heading &quot;Current Assets&quot; appears on level 4 then the body formula:</p>
</li>
</ol>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">=INDEX(A:A,MATCH(&quot;Current Assets&quot;,D:D,0)+1)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>will retrieve it. The +1 after match looks down one row below the matched headline. The trick is to place all your headlines in quotes because Excel will see + &quot;Current Assets&quot; from the MORE outline. When Excel tries without the quotes it thinks it is a range name and displays a #N/A error instead of the headline. Also you must place a child node_ below to get the + sign instead of a - sign which would give a MORE headline of -&quot;Current assets&quot; , also is an error.</p>
<p>I think there is some interesting possibility here because of the enforcement of Leo body text being always in the first column. The Leo outline provides additional reference to organizing the problem not typical of spreadsheet models. Beyond scripting in Python, Excel is good at doing interrelated calculations and detecting problems like circular references. In Excel Tools-Options-General is a setting for r1c1 format which then shows numbers instead of letters for column references. Using this would allow entries like this in the leo body:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">1000</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">3500</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">=R[-1]C+R[-2]C</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>In Excel you would see 4500 below those two numbers. This is completely independent of where the block of three cells exists on the sheet.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="files">Files<a href="#files" class="hash-link" aria-label="Direct link to Files" title="Direct link to Files">​</a></h2>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="can-file-trees-contain-material-not-in-the-external-file">Can @file trees contain material not in the external file?<a href="#can-file-trees-contain-material-not-in-the-external-file" class="hash-link" aria-label="Direct link to Can @file trees contain material not in the external file?" title="Direct link to Can @file trees contain material not in the external file?">​</a></h3>
<p>No. Everything in an @file trees must be part of the external file: orphan and @ignore nodes are invalid in @file trees. This restriction should not be troublesome. For example, you can organize your outline like this:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">+ myClass</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">..+ ignored stuff</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">..+ @file myClass</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>(As usual, + denotes a headline.) So you simply create a new <a href="/leojs/docs/appendices/glossary#node">node</a>, called myClass, that holds your @file trees and stuff you don&#x27;t want in the @file trees.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="how-can-i-avoid-getting-long-lines-in-external-files">How can I avoid getting long lines in external files?<a href="#how-can-i-avoid-getting-long-lines-in-external-files" class="hash-link" aria-label="Direct link to How can I avoid getting long lines in external files?" title="Direct link to How can I avoid getting long lines in external files?">​</a></h3>
<p>Q: I must follow a coding standard when writing source code. It includes a maximum line length restriction. How can I know the length of a line when it gets written to the external file?</p>
<p>A: If a node belongs to a external file hierarchy, its body might get indented when it is written to the external file. It happens when an @others directive or a section name appears indented in a higher-level node body. While (<strong>line</strong>, <strong>col</strong>) in status area show the line and column containing the body text&#x27;s cursor, <strong>fcol</strong> shows the cursor coordinate relative to the external file, not to the current node. The relation <strong>fcol &gt;= col</strong> is always true.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="how-can-i-create-javascript-comments">How can I create Javascript comments?<a href="#how-can-i-create-javascript-comments" class="hash-link" aria-label="Direct link to How can I create Javascript comments?" title="Direct link to How can I create Javascript comments?">​</a></h3>
<p>Q: I&#x27;m writing a Windows Script Component, which is an XML file with a CData section containing javascript. I can get the XML as I want it by using @language html, but how can I get the tangling comments inside the CData section to be java-style comments rather than html ones?</p>
<p>A: In @file trees you use the @delims directive to change comment delimiters. For example:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">@ԁelims /* */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Javascript stuff</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@ԁelims &lt;-- --&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">HTML stuff</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Important</strong>: Leo can not revert to previous delimiters automatically; you must change back to previous delimiters using another @delims directive_.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="how-can-i-disable-php-comments">How can I disable PHP comments?<a href="#how-can-i-disable-php-comments" class="hash-link" aria-label="Direct link to How can I disable PHP comments?" title="Direct link to How can I disable PHP comments?">​</a></h3>
<p><em>Contributed By Zvi Boshernitzan</em></p>
<p>I was having trouble disabling &#x27;&lt;?php&#x27; with comments (and couldn&#x27;t override the comment character for the start of the page). Finally, I found a solution that worked, using php&#x27;s heredoc string syntax:</p>
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">@firѕt &lt;?php</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@firѕt $comment = &lt;&lt;&lt;EOD</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">EOD;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// php code goes here.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo &quot;boogie&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$comment2 = &lt;&lt;&lt;EOD</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@laѕt EOD;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@laѕt ?&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>or:</p>
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">@firѕt &lt;?php</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@firѕt /*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">*/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo &quot;hi&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@ԁelims /* */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@laѕt ?&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="how-can-i-open-special-leo-files-easily">How can I open special .leo files easily?<a href="#how-can-i-open-special-leo-files-easily" class="hash-link" aria-label="Direct link to How can I open special .leo files easily?" title="Direct link to How can I open special .leo files easily?">​</a></h3>
<p>You can open files such as leoSettings.leo and myLeoSettings.leo with commands starting with &#x27;leo-&#x27;.</p>
<p><code>Alt-X leo-</code> shows the complete list of commands:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">my-leo-settings</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">leo-settings</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="how-can-i-specify-the-root-directory-of-a-thumb-drive">How can I specify the root directory of a thumb drive?<a href="#how-can-i-specify-the-root-directory-of-a-thumb-drive" class="hash-link" aria-label="Direct link to How can I specify the root directory of a thumb drive?" title="Direct link to How can I specify the root directory of a thumb drive?">​</a></h3>
<p>Use the %~dp0 syntax.  Example:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">  %~dp0\Python27\python.exe %~dp0\Leo-editor\launchLeo.py</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>see <a href="http://ss64.com/nt/syntax-args.html" target="_blank" rel="noopener noreferrer">http://ss64.com/nt/syntax-args.html</a> and
<a href="http://stackoverflow.com/questions/5034076/what-does-dp0-mean-and-how-does-it-work" target="_blank" rel="noopener noreferrer">http://stackoverflow.com/questions/5034076/what-does-dp0-mean-and-how-does-it-work</a></p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="how-can-i-use-leo-with-older-c-compilers">How can I use Leo with older C compilers<a href="#how-can-i-use-leo-with-older-c-compilers" class="hash-link" aria-label="Direct link to How can I use Leo with older C compilers" title="Direct link to How can I use Leo with older C compilers">​</a></h3>
<p>By Rich Ries. Some older C compilers don&#x27;t understand the &quot;//&quot; comment symbol, so using @language C won&#x27;t work. Moreover, the following does not always work either:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">@ϲomment /* */</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This generates the following sentinel line:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">/*@@comment /* */*/</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>in the output file, and not all C compilers allow nested comments, so the last */ generates an error. The solution is to use:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#if 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@ϲomment /* */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#endif</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Leo is happy: it recognizes the @comment <a href="/leojs/docs/appendices/glossary#directive">directive</a>. The C compiler is happy: the C preprocessor strips out the offending line before the C compiler gets it.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="how-can-i-use-leo-with-unsupported-languages">How can I use Leo with unsupported languages?<a href="#how-can-i-use-leo-with-unsupported-languages" class="hash-link" aria-label="Direct link to How can I use Leo with unsupported languages?" title="Direct link to How can I use Leo with unsupported languages?">​</a></h3>
<p>The @first directive_ is the key to output usable code in unsupported languages. For example, to use Leo with the Basic language, use the following:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">@firѕt $IFDEF LEOHEADER</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@ԁelims &#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@ϲ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ENDIF</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>So this would enable a basic compiler to &quot;jump&quot; over the &quot;true&quot; Leo-header-lines. Like this:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$IFDEF LEOHEADER &lt;-conditional compilation directive </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#@+leo-ver=4 &lt;-these lines not compiled</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#@+node:@file QParser005.INC</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#@@first</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#@delims &#x27; </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&#x27;@@c</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ENDIF &lt;-... Until here!</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;rest of derived code file ... &gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This changes the comment symbol the apostrophe, making comments parseable by a BASIC (or other language.)</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="how-do-i-inhibit-sentinels-in-external-files">How do I inhibit sentinels in external files?<a href="#how-do-i-inhibit-sentinels-in-external-files" class="hash-link" aria-label="Direct link to How do I inhibit sentinels in external files?" title="Direct link to How do I inhibit sentinels in external files?">​</a></h3>
<p>Use @clean trees. Files derived from @clean trees contain no <a href="/leojs/docs/appendices/glossary#sentinel">sentinels</a>. However, Leo can update @clean trees from changes made to the corresponding external file.  The <a href="/leojs/docs/appendices/mulder-ream">Mulder/Ream update algorithm</a> makes this magic happen.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="how-do-i-make-external-files-start-with-a-shebang-line">How do I make external files start with a shebang line?<a href="#how-do-i-make-external-files-start-with-a-shebang-line" class="hash-link" aria-label="Direct link to How do I make external files start with a shebang line?" title="Direct link to How do I make external files start with a shebang line?">​</a></h3>
<p>Use the @first directive_ in @file or @clean trees. The @first directive puts lines at the very start of files derived from @file. For example, the body text of @file spam.py might be:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">@firѕt #! /usr/bin/env python</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The body text of @file foo.pl might be:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">@firѕt #/usr/bin/perl</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>@first directives must be the <em>very first</em> lines of @file nodes. More than one @first directive may exist, like this:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">@firѕt #! /usr/bin/env python</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@firѕt # more comments.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="how-do-i-prevent-leo-from-expanding-sections">How do I prevent Leo from expanding sections?<a href="#how-do-i-prevent-leo-from-expanding-sections" class="hash-link" aria-label="Direct link to How do I prevent Leo from expanding sections?" title="Direct link to How do I prevent Leo from expanding sections?">​</a></h3>
<p>Use @asis trees. Files derived from @asis trees contain no sentinels. Leo creates the external file simply by writing all body text in outline order. Leo can&#x27;t update the outline unless the external file contains sentinels, so Leo does not update @asis trees automatically when you change the external file in an external editor.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="why-cant-i-use-ignore-directives-in-file-trees">Why can&#x27;t I use @ignore directives in @file trees?<a href="#why-cant-i-use-ignore-directives-in-file-trees" class="hash-link" aria-label="Direct link to Why can&#x27;t I use @ignore directives in @file trees?" title="Direct link to Why can&#x27;t I use @ignore directives in @file trees?">​</a></h3>
<p>The @ignore directive can not be used elsewhere in @file trees because of the way Leo recreates outlines from external files. This is an absolutely crucial restriction and will never go away. For a few more details, see the <a href="/leojs/docs/appendices/history">History of Leo</a>.</p>
<p>There are several workaround:</p>
<ul>
<li>
<p>keep notes in the outline outside of any external file.</p>
</li>
<li>
<p>Use @all to gather notes in a external file.</p>
</li>
</ul>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="git">Git<a href="#git" class="hash-link" aria-label="Direct link to Git" title="Direct link to Git">​</a></h2>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="how-can-i-use-git-to-check-leos-importers">How can I use git to check Leo&#x27;s importers?<a href="#how-can-i-use-git-to-check-leos-importers" class="hash-link" aria-label="Direct link to How can I use git to check Leo&#x27;s importers?" title="Direct link to How can I use git to check Leo&#x27;s importers?">​</a></h3>
<p>When I study a program, I like to import it into Leo. I have several scripts that do this: some create @auto nodes; others create @file nodes. Whatever the method used, the import process has the potential to change many files. Usually, I just change @auto and @file to @@auto or @@file, so that any changes I make while studying the code won&#x27;t affect the originals.</p>
<p>But this &quot;safety first&quot; approach means that I can&#x27;t actually use Leo to insert tracing statements (or for any other changes.) Happily, there is a way to import &quot;live&quot; code into Leo safely:</p>
<ul><p>Create a git repository for the code before importing it</p></ul>
<p>The Aha is to create the repository <em>wherever the code is</em>, including,
say, python/Lib/site-packages.</p>
<ul>
<li>git diff ensures that import hasn&#x27;t significantly altered the code,</li>
</ul>
<p>This is exactly what I need:  I can make changes to important tools <em>safely</em> within Leo.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="how-should-i-use-leo-with-git-etc">How should I use Leo with git, etc.?<a href="#how-should-i-use-leo-with-git-etc" class="hash-link" aria-label="Direct link to How should I use Leo with git, etc.?" title="Direct link to How should I use Leo with git, etc.?">​</a></h3>
<p>Use @clean or @auto unless everyone in your work group uses Leo.  In that case, using @file is best.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="importing-files">Importing files<a href="#importing-files" class="hash-link" aria-label="Direct link to Importing files" title="Direct link to Importing files">​</a></h2>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="how-can-i-import-many-files-at-once">How can I import many files at once?<a href="#how-can-i-import-many-files-at-once" class="hash-link" aria-label="Direct link to How can I import many files at once?" title="Direct link to How can I import many files at once?">​</a></h3>
<p>The Import Files dialog allows you to select multiple files.</p>
<p>There is also a method on the Commander class: <code>recursiveImport</code></p>
<p>The following script imports files from a given directory and all subdirectories:</p>
<div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">c</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">recursiveImport</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&#x27;path to file or directory&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// dir</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&#x27;@clean&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// kind like &#x27;@file&#x27; or &#x27;@auto&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">       </span><span class="token comment" style="color:#999988;font-style:italic">// True: import only one file.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">   </span><span class="token comment" style="color:#999988;font-style:italic">// True: generate @@clean nodes.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">undefined</span><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// theTypes: Same as [&#x27;.py&#x27;]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="running-scripts-and-commands">Running scripts and commands<a href="#running-scripts-and-commands" class="hash-link" aria-label="Direct link to Running scripts and commands" title="Direct link to Running scripts and commands">​</a></h2>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="how-can-i-make-commonly-used-scripts-widely-accessible">How can I make commonly-used scripts widely accessible?<a href="#how-can-i-make-commonly-used-scripts-widely-accessible" class="hash-link" aria-label="Direct link to How can I make commonly-used scripts widely accessible?" title="Direct link to How can I make commonly-used scripts widely accessible?">​</a></h3>
<p>Put @command nodes as children of an @commands node in myLeoSettings.leo. This makes the @command nodes available to all opened .leo files.</p>
<p>Using @command rather than @button means that there is never any need to disable scripts. There is no need for @button. To see the list of your @command nodes, type:</p>
<p><code>&lt;alt-x&gt;@c</code></p>
<p>Similarly to see the list of your @button nodes, type:</p>
<p><code>&lt;alt-x&gt;@b</code></p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="how-can-i-organize-large-docstrings">How can I organize large docstrings?<a href="#how-can-i-organize-large-docstrings" class="hash-link" aria-label="Direct link to How can I organize large docstrings?" title="Direct link to How can I organize large docstrings?">​</a></h3>
<p>Start your file with:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&#x27;&#x27;&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;&lt; docstring &gt;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&#x27;&#x27;&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The &lt;&lt; docstring &gt;&gt; section can just contain:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">@lаnguage rest # or md</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@wгap</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@οthers</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This allows the &quot;interior&quot; of the docstring to be colored using rST (or markdown).
The children of the &lt;&lt; docstring &gt;&gt; node form the actual docstring. No section names are required!</p>
<p>This pattern organizes large docstrings in a Leonine way. The only drawback is that the actual external file contains sentinel lines separating the parts of the docstring. In practice, it&#x27;s no big deal, especially if each child starts with a blank line.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="how-can-i-run-code-in-an-external-process">How can I run code in an external process?<a href="#how-can-i-run-code-in-an-external-process" class="hash-link" aria-label="Direct link to How can I run code in an external process?" title="Direct link to How can I run code in an external process?">​</a></h3>
<p>g.execute_shell_commands executes one or more commands in a separate process using child_process. Commands <em>not</em> preceded by &#x27;&amp;&#x27; run to completion before the next command is run.</p>
<p>See the <a href="/leojs/docs/advanced-topics/scripting-guide#running-code-in-separate-processes">Leo Scripting Guide</a> for more details.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="how-can-i-run-scripts-other-languages">How can I run scripts other languages?<a href="#how-can-i-run-scripts-other-languages" class="hash-link" aria-label="Direct link to How can I run scripts other languages?" title="Direct link to How can I run scripts other languages?">​</a></h3>
<p>The execute-general-script command invokes an external language processor on an <strong>script file</strong> as follows:</p>
<ul>
<li>
<p>If c.p is any kind of @&lt;file&gt; node, the script file is the corresponding external file.
Otherwise, the script file is a temp file.</p>
</li>
<li>
<p>The <code>@data exec-script-commands</code> setting tells how to invoke the appropriate language processor.
See the setting for more details.</p>
</li>
<li>
<p>The <code>@data exec-script-patterns</code> settings describes error messages so that Leo can create
clickable links to errors.  See the setting for more details.</p>
</li>
<li>
<p>This command is a thin wrapper around the c.general_script_helper method.
Scripts can call this method directly if desired.</p>
</li>
</ul>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="how-can-scripts-call-functions-from-leos-core">How can scripts call functions from Leo&#x27;s core?<a href="#how-can-scripts-call-functions-from-leos-core" class="hash-link" aria-label="Direct link to How can scripts call functions from Leo&#x27;s core?" title="Direct link to How can scripts call functions from Leo&#x27;s core?">​</a></h3>
<p>Leo executes scripts with c and g predefined.</p>
<p>g is the leo.core.leoGlobal. Use g to access any function or class in leo/core/leoGlobals.py:</p>
<ul><p><strong>g.app</strong>                   A LeoApp instance.<br>
<strong>g.app.gui</strong>               A LeoGui instance.<br>
<strong>g.app.pluginsController</strong> A LeoPluginsController instance.<br>
<strong>g.app.*</strong>                 Leo&#x27;s global variables.</p></ul>
<p>c is the Commander object for the present outline. Commander objects define <strong>subcommanders</strong> corresponding to files in leo/core and leo/commands::</p>
<ul><p>In leo/core...<br>
<strong>c.atFileCommands</strong><br>
<strong>c.chapterController</strong><br>
<strong>c.fileCommands</strong><br>
<strong>c.findCommands</strong><br>
<strong>c.importCommands</strong><br>
<strong>c.keyHandler = c.k</strong><br>
<strong>c.persistenceController</strong><br>
<strong>c.printingController</strong><br>
<strong>c.rstCommands</strong><br>
<strong>c.shadowController</strong><br>
<strong>c.tangleCommands</strong></p><p>In leo/commands...<br>
<strong>c.abbrevCommands</strong><br>
<strong>c.controlCommands</strong><br>
<strong>c.convertCommands</strong><br>
<strong>c.debugCommands</strong><br>
<strong>c.editCommands</strong><br>
<strong>c.editFileCommands</strong><br>
<strong>c.gotoCommands</strong><br>
<strong>c.helpCommands</strong><br>
<strong>c.keyHandlerCommands</strong><br>
<strong>c.killBufferCommands</strong><br>
<strong>c.rectangleCommands</strong><br>
<strong>c.spellCommands</strong></p></ul>
<p>Scripts can gain access to all of the code in these files via these subcommanders.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="how-do-i-choose-between-others-and-section-references">How do I choose between @others and section references?<a href="#how-do-i-choose-between-others-and-section-references" class="hash-link" aria-label="Direct link to How do I choose between @others and section references?" title="Direct link to How do I choose between @others and section references?">​</a></h3>
<p>Use @others unless the contents of a node must appear in a certain spot, or in a certain order. For examples, most of Leo&#x27;s source files start like this:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">@firѕt # -*- coding: utf-8 -*-</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;&lt; imports &gt;&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The &lt;&lt; imports &gt;&gt; section reference ensures that imports appear first. Another example:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">@firѕt # -*- coding: utf-8 -*-</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;&lt; imports &gt;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;&lt; base classes &gt;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@οthers</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This ensures that base classes are defined before their subclasses.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="unicode">Unicode<a href="#unicode" class="hash-link" aria-label="Direct link to Unicode" title="Direct link to Unicode">​</a></h2>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="some-characters-in-external-files-look-funny-what-can-i-do">Some characters in external files look funny. What can I do?<a href="#some-characters-in-external-files-look-funny-what-can-i-do" class="hash-link" aria-label="Direct link to Some characters in external files look funny. What can I do?" title="Direct link to Some characters in external files look funny. What can I do?">​</a></h3>
<p>Internally, Leo represents all strings as unicode. Leo translates from a particular encoding to Unicode_ when reading .leo files or external files. Leo translates from Unicode_ to a particular encoding when writing external files. You may see strange looking characters if your text editor is expecting a different encoding. The encoding used in any external file is shown in the #@+leo sentinel line like this:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> #@+leo-encoding=iso-8859-1.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Exception</strong>: the encoding is UTF-8 if no -encoding= field exists. You can also use the @encoding directive_ to set the encoding for individual external files. If no @encoding directive_ is in effect, Leo uses the following settings_ to translate to and from unicode:</p>
<ul>
<li>default_derived_file_encoding</li>
</ul>
<p>The encoding used for external files if no @encoding directive_ is in effect.
This setting also controls the encoding of files that Leo writes.
The default is UTF-8 (case not important).</p>
<ul>
<li>new_leo_file_encoding</li>
</ul>
<p>The encoding specified in the following line of new .leo files:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The default is UTF-8 (upper case for compatibility for old versions of Leo).</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="i-get-weird-results-when-defining-unicode-strings-in-scripts--what-is-going-on">I get weird results when defining unicode strings in scripts.  What is going on?<a href="#i-get-weird-results-when-defining-unicode-strings-in-scripts--what-is-going-on" class="hash-link" aria-label="Direct link to I get weird results when defining unicode strings in scripts.  What is going on?" title="Direct link to I get weird results when defining unicode strings in scripts.  What is going on?">​</a></h3>
<p>Add the following as the <em>very first line</em> of your scripts:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">@firѕt # -*- coding: utf-8 -*-</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Without this line, constructs such as:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">u = u&#x27;a-(2 unicode characters here)-z&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">u = &#x27;a-(2 unicode characters here)-z&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>will not work when executed with Leo&#x27;s execute script command. Indeed, the Execute Script command creates the script by writing the tree containing the script to a string. This is done using Leo&#x27;s write logic, and this logic converts the unicode input to a utf-8 encoded string. So <em>all non-ascii characters</em> get converted to their equivalent in the utf-8 encoding. Call these encoding &lt;e1&gt; and &lt;e2&gt;. In effect the script becomes:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">u = u&#x27;a-&lt;e1&gt;-&lt;e2&gt;-z&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">u = &#x27;a-&lt;e2&gt;-&lt;e&gt;-z&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>which is certainly <em>not</em> what the script writer intended! Rather than defining strings using actual characters, Instead, one should use the equivalent escape sequences. For example:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">u = u&#x27;a-\\u0233-\\u8ce2-z&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">u = &#x27;a-\\u0233-\\u8ce2-z&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="some-characters-are-garbled-when-importing-files-what-can-i-do">Some characters are garbled when importing files. What can I do?<a href="#some-characters-are-garbled-when-importing-files-what-can-i-do" class="hash-link" aria-label="Direct link to Some characters are garbled when importing files. What can I do?" title="Direct link to Some characters are garbled when importing files. What can I do?">​</a></h3>
<p>The encoding used in the file being imported doesn&#x27;t match the encoding in effect for Leo. Use the @encoding <a href="/leojs/docs/appendices/glossary#directive">directive</a> in an ancestor of the <a href="/leojs/docs/appendices/glossary#node">node</a> selected when doing the <a href="/leojs/docs/users-guide/commands#importing--exporting-files">Import command</a> to specify the encoding of file to be imported.</p>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="work-flow">Work flow<a href="#work-flow" class="hash-link" aria-label="Direct link to Work flow" title="Direct link to Work flow">​</a></h2>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="how-can-i-organize-data-so-i-can-find-stuff-later">How can I organize data so I can find stuff later?<a href="#how-can-i-organize-data-so-i-can-find-stuff-later" class="hash-link" aria-label="Direct link to How can I organize data so I can find stuff later?" title="Direct link to How can I organize data so I can find stuff later?">​</a></h3>
<p>When organizing data into nodes, <strong>every item should clearly belong to exactly one top-level category</strong>. In other words, avoid top-level <em>aggregate</em> categories.</p>
<p>For example, the following are poor top-level categories. They are poor because any item in them could be placed in a more explicit category:</p>
<ul>
<li>Contrib</li>
<li>Developing Leo</li>
<li>Important</li>
<li>Maybe</li>
<li>Others</li>
<li>Prototype</li>
<li>Recent</li>
<li>Won&#x27;t do/Can&#x27;t do</li>
</ul>
<p>We all have had bad experiences with the dreaded &quot;Others&quot; category. The Aha! is that all aggregate categories are just as bad as &quot;Others&quot;.</p>
<blockquote>
<p>📌 <strong>NOTE</strong><br>
<!-- -->I have been talking only about top-level categories.  Within a single category aggregate categories may be useful.  However, when possible I prefer to mark items rather than create subcategories.</p>
</blockquote>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="how-can-i-see-two-nodes-at-once">How can I see two nodes at once?<a href="#how-can-i-see-two-nodes-at-once" class="hash-link" aria-label="Direct link to How can I see two nodes at once?" title="Direct link to How can I see two nodes at once?">​</a></h3>
<p>In LeoJS, use <strong>Detached Body Panes</strong> to have other body panes than the selected node opened.</p>
<p>Detached Body Panes are independent of the selected node. They can be opened with the &#x27;Open Aside&#x27; command. This can also be done with the outline&#x27;s context menu, opened by right-clicking on a node.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="how-can-i-use-leo-cooperatively-without-sentinels">How can I use Leo cooperatively without sentinels?<a href="#how-can-i-use-leo-cooperatively-without-sentinels" class="hash-link" aria-label="Direct link to How can I use Leo cooperatively without sentinels?" title="Direct link to How can I use Leo cooperatively without sentinels?">​</a></h3>
<p>Most people will find using @clean trees to be most useful.</p>
<p>Use @auto-rst, @auto-vimoutline or @auto-org for rST, vimoutline or Emacs org mode files respectively.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="how-can-i-use-the-gtd-workflow-in-leo">How can I use the GTD workflow in Leo?<a href="#how-can-i-use-the-gtd-workflow-in-leo" class="hash-link" aria-label="Direct link to How can I use the GTD workflow in Leo?" title="Direct link to How can I use the GTD workflow in Leo?">​</a></h3>
<p>GTD <a href="https://www.amazon.com/Getting-Things-Done-Stress-Free-Productivity/dp/0142000280" target="_blank" rel="noopener noreferrer">Getting Things Done</a> is, by far, the best productivity book I have ever read. Many aspects of Leo are idea for putting GTD into practice.</p>
<p>Here is a surprisingly useful workflow tip related to GTD.</p>
<p>Ideas often &quot;intrude&quot; when I am busy with something else. When that happens, I create a top-level node of the form:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">** description of idea</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Now I can continue what I was doing! This is such a simple idea, but it&#x27;s really really important: it means I never have to put off getting my ideas into Leo. The &quot;**&quot; draws my attention to the new to-do item. Later, when I am not fully immersed in the previous task, I can put the &quot;**&quot; node somewhere else.</p>
<p>It&#x27;s super important to deal with new ideas <em>instantly</em> but <em>without</em> greatly interrupting the task at hand. Creating &quot;**&quot; nodes does that. This new workflow has been a big improvement to my GTD practice.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/leojs/docs/advanced-topics/writing-plugins"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Writing Plugins</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/leojs/docs/advanced-topics/leonine-refactor"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">The Leonine way to refactor code</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#learning-to-use-leo" class="table-of-contents__link toc-highlight">Learning to use Leo</a></li><li><a href="#clones" class="table-of-contents__link toc-highlight">Clones</a></li><li><a href="#customizing-leo" class="table-of-contents__link toc-highlight">Customizing Leo</a></li><li><a href="#excel" class="table-of-contents__link toc-highlight">Excel</a></li><li><a href="#files" class="table-of-contents__link toc-highlight">Files</a></li><li><a href="#git" class="table-of-contents__link toc-highlight">Git</a></li><li><a href="#importing-files" class="table-of-contents__link toc-highlight">Importing files</a></li><li><a href="#running-scripts-and-commands" class="table-of-contents__link toc-highlight">Running scripts and commands</a></li><li><a href="#unicode" class="table-of-contents__link toc-highlight">Unicode</a></li><li><a href="#work-flow" class="table-of-contents__link toc-highlight">Work flow</a></li></ul></div></div></div></div></main></div></div></div></div></div>
</body>
</html>